import json
import firebase_admin
from firebase_admin import credentials, firestore

# === 1. åˆå§‹åŒ– Firebase Admin ===
cred = credentials.Certificate(
    '/Users/a0/Desktop/aiko-mobile/billionare-501bf-firebase-adminsdk-fbsvc-2dad5e32f5.json')
firebase_admin.initialize_app(cred)

# === 2. è·å– Firestore å®¢æˆ·ç«¯ ===
db = firestore.client()

# === 3. è¦ä¸Šä¼ çš„æ•°æ® ===
data = [
    {
        "display_fields": {
            "Storyname": "é—¨æ‰‰åçš„å‘¢å–ƒ",
            "Storyimage": "ä¸€æ‰‡æ–‘é©³å¤æ—§çš„æœ¨é—¨åŠå¼€ç€ï¼Œé—¨ç¼ä¸­é€å‡ºè¯¡å¼‚çš„æ·±çº¢è‰²å…‰èŠ’ï¼Œé—¨å¤–æ˜¯å‡ ä¸ªç¥æƒ…å„å¼‚ã€ç´§å¼ ç«™ç«‹çš„äººå½±ã€‚",
            "synopsis": "å½“æ­»äº¡çš„é˜´å½±ç¬¼ç½©ï¼Œä½ ä»¬è¢«ä¸€æ‰‡ç¥ç§˜çš„é“é—¨æ‹‰å…¥äº†ä¸€ä¸ªæ— äººç”Ÿè¿˜çš„è¯¡å¼‚ä¸–ç•Œã€‚åœ¨è¿™é‡Œï¼ŒçœŸç›¸è¢«è°è¨€åŒ…è£¹ï¼Œæ¯ä¸€æ­¥éƒ½å¯èƒ½è¸å…¥æ·±æ¸Šï¼Œä½ ä»¬å¿…é¡»åœ¨ç†æ™ºå´©æºƒå‰æ‰¾åˆ°å”¯ä¸€çš„ç”Ÿè·¯ã€‚",
            "player_count": "4äºº"
        },
        "user_facing_content": {
            "character_setup": [
                {"character_name": "é¡¾å½±", "description": "ä¸€ä½ç»éªŒä¸°å¯Œçš„â€œè¿‡é—¨è€…â€ï¼Œç¥æƒ…å†·æ¼ ï¼Œçœ¼ç¥ä¸­é€éœ²ç€ä¸å±äºè¿™ä¸ªå¹´çºªçš„ç–²æƒ«ä¸è­¦æƒ•ã€‚",
                    "objective": "æ‰¾åˆ°ç¬¬åäºŒæ‰‡é—¨ï¼Œå¹¶æ­å¼€æ‰€æœ‰é—¨çš„æœ€ç»ˆç§˜å¯†ã€‚"},
                {"character_name": "å¤ä¹", "description": "ç¬¬ä¸€æ¬¡è¿›å…¥é—¨å†…ä¸–ç•Œçš„æ–°äººï¼Œè„¸è‰²è‹ç™½ï¼Œçœ¼ç¥é‡Œå……æ»¡äº†ææƒ§å’Œä¸çŸ¥æ‰€æªã€‚",
                    "objective": "ä¸æƒœä¸€åˆ‡ä»£ä»·æ´»ä¸‹å»ï¼Œå¹¶å›åˆ°ç°å®ä¸–ç•Œã€‚"},
                {"character_name": "ç§¦é£", "description": "ä¸€ä¸ªèº«æå¥ç¡•ã€çœ‹èµ·æ¥å¾ˆå¯é çš„é€€å½¹å†›äººï¼Œæ—¶åˆ»ä¿æŒç€å†·é™å’Œè§‚å¯Ÿã€‚",
                    "objective": "ä¿æŠ¤æ›´å¤šçš„äººæ´»ä¸‹å»ï¼Œç»´æŒå›¢é˜Ÿçš„ç§©åºã€‚"},
                {"character_name": "æ–‡çŠ", "description": "æˆ´ç€é‡‘ä¸çœ¼é•œçš„çŸ¥æ€§å¥³æ€§ï¼Œä¼¼ä¹å¯¹è¶…è‡ªç„¶ç°è±¡æœ‰æ·±å…¥ç ”ç©¶ï¼Œæ˜¾å¾—å¼‚å¸¸é•‡å®šã€‚",
                    "objective": "è®°å½•é—¨å†…ä¸–ç•Œçš„ä¸€åˆ‡è§„åˆ™å’Œç°è±¡ï¼Œå°†å…¶ä½œä¸ºç ”ç©¶è¯¾é¢˜ã€‚"}
            ],
            "opening_choices": [
                {"character_id": "é¡¾å½±", "prompt": "ä½œä¸ºç»éªŒè€…ï¼Œä½ æ·±çŸ¥é—¨å†…ä¸–ç•Œçš„é™©æ¶ã€‚è¸å…¥è¿™åº§åºŸå¼ƒåŒ»é™¢çš„å¤§å…ï¼Œä½ çš„é¦–è¦è¡ŒåŠ¨æ˜¯ï¼Ÿ",
                 "options": [
                     {"id": "A_option_1", "strategy": "å‹˜å¯Ÿç¯å¢ƒ",
                         "text": "ç«‹åˆ»è§‚å¯Ÿå¤§å…çš„å¸ƒå±€ï¼Œå¯»æ‰¾å¯èƒ½çš„å‡ºå£ã€è—èº«å¤„ä»¥åŠæ½œåœ¨çš„å±é™©æºã€‚"},
                     {"id": "A_option_2", "strategy": "ç¨³å®šäººå¿ƒ",
                         "text": "å‘æƒŠæ…Œçš„æ–°äººç®€è¦è¯´æ˜æƒ…å†µï¼Œç”¨ä½ ä¸°å¯Œçš„ç»éªŒå»ºç«‹é¢†å¯¼åœ°ä½ï¼Œç¨³å®šå›¢é˜Ÿæƒ…ç»ªã€‚"},
                     {"id": "A_option_3", "strategy": "å¯»æ‰¾çº¿ç´¢",
                         "text": "æ— è§†ä»–äººï¼Œç›´æ¥èµ°å‘å‰å°çš„ç™»è®°å†Œï¼Œä½ ç›¸ä¿¡æœ€å…³é”®çš„çº¿ç´¢å¾€å¾€åœ¨æœ€æ˜¾çœ¼çš„åœ°æ–¹ã€‚"}
                 ]},
                # å…¶ä½™è§’è‰²é€‰é¡¹çœç•¥ï¼Œä¸ºç®€æ´
            ]
        },
        "model_facing_content": {
            "global_story_background": {
                "prologue": "ä¸–ç•Œä¸Šå­˜åœ¨ä¸€ä¸ªæ— æ³•ç”¨ç§‘å­¦è§£é‡Šçš„ç³»ç»Ÿã€‚å½“äººä»¬æ¿’ä¸´æ­»äº¡æˆ–äº§ç”Ÿæç«¯æƒ…ç»ªæ—¶ï¼Œæœ‰ä¸€å®šå‡ ç‡ä¼šçœ‹åˆ°ä¸€æ‰‡â€œé—¨â€ã€‚æ¨å¼€é—¨ï¼Œå°±æ˜¯ä¹æ­»ä¸€ç”Ÿçš„è¯¡å¼‚ä¸–ç•Œã€‚",
                "setting": "æ ¸å¿ƒåœºæ™¯æ˜¯â€œé—¨â€åçš„ä¸–ç•Œï¼Œè¿™æ˜¯ä¸€ä¸ªç”±åäºŒä¸ªéš¾åº¦é€’å¢çš„å‰¯æœ¬æ„æˆçš„ç³»ç»Ÿã€‚",
                "core_conflict": "æ ¸å¿ƒå†²çªåœ¨äºç©å®¶ä¸é—¨å†…é¬¼æ€ªã€è‡´å‘½è§„åˆ™ä¹‹é—´çš„ç”Ÿå­˜å¯¹æŠ—ã€‚"
            },
            "character_pool": [
                {"character_name": "é¡¾å½±", "public_identity": "ç»éªŒä¸°å¯Œçš„è¿‡é—¨è€…ï¼Œå›¢é˜Ÿçš„é¢†å¯¼è€…ã€‚",
                    "secret_objective": "ä»–ä¸€ç›´åœ¨å¯»æ‰¾ä¸€ä¸ªåœ¨é—¨å†…ä¸–ç•Œå¤±è¸ªçš„çˆ±äººã€‚"},
                {"character_name": "å¤ä¹", "public_identity": "è¢«æ„å¤–å·å…¥çš„æ™®é€šå¤§å­¦ç”Ÿã€‚",
                    "secret_objective": "æ´»ä¸‹å»ã€‚"},
                {"character_name": "ç§¦é£", "public_identity": "å¯Œæœ‰æ­£ä¹‰æ„Ÿçš„é€€å½¹å†›äººã€‚",
                    "secret_objective": "ä»–æ€€ç–‘äº‹ä»¶ä¸å¤±è¸ªçš„æˆ˜å‹æœ‰å…³ã€‚"},
                {"character_name": "æ–‡çŠ", "public_identity": "è¶…è‡ªç„¶ç°è±¡ç ”ç©¶å­¦è€…ã€‚",
                    "secret_objective": "å¥¹è¿›å…¥è¿™é‡Œæ˜¯ä¸»åŠ¨è¡Œä¸ºï¼Œç›®çš„æ˜¯æ”¶é›†æ•°æ®ã€‚"}
            ]
        }
    },
    # å…¶ä»–æ•…äº‹åŒç†ï¼Œå¯ç»§ç»­è¿½åŠ 
]

# === 4. ä¸Šä¼ æ•°æ®åˆ° Firestore ===
collection_ref = db.collection('livestory').document(
    'script').collection('stories')

for story in data:
    story_name = story["display_fields"]["Storyname"]
    doc_ref = collection_ref.document(story_name)
    doc_ref.set(story)
    print(f"âœ… å·²ä¸Šä¼ æ•…äº‹ï¼š{story_name}")

print("ğŸ‰ æ‰€æœ‰æ•…äº‹ä¸Šä¼ å®Œæˆï¼")
