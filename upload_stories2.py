import json
import firebase_admin
from firebase_admin import credentials, firestore

# === 1. 初始化 Firebase Admin ===
cred = credentials.Certificate(
    '/Users/a0/Desktop/aiko-mobile/billionare-501bf-firebase-adminsdk-fbsvc-2dad5e32f5.json')
firebase_admin.initialize_app(cred)

# === 2. 获取 Firestore 客户端 ===
db = firestore.client()

# === 3. 要上传的数据 ===
data = [
    {
        "display_fields": {
            "Storyname": "门扉后的呢喃",
            "Storyimage": "一扇斑驳古旧的木门半开着，门缝中透出诡异的深红色光芒，门外是几个神情各异、紧张站立的人影。",
            "synopsis": "当死亡的阴影笼罩，你们被一扇神秘的铁门拉入了一个无人生还的诡异世界。在这里，真相被谎言包裹，每一步都可能踏入深渊，你们必须在理智崩溃前找到唯一的生路。",
            "player_count": "4人"
        },
        "user_facing_content": {
            "character_setup": [
                {"character_name": "顾影", "description": "一位经验丰富的“过门者”，神情冷漠，眼神中透露着不属于这个年纪的疲惫与警惕。",
                 "objective": "找到第十二扇门，并揭开所有门的最终秘密。"},
                {"character_name": "夏乐", "description": "第一次进入门内世界的新人，脸色苍白，眼神里充满了恐惧和不知所措。",
                 "objective": "不惜一切代价活下去，并回到现实世界。"},
                {"character_name": "秦风", "description": "一个身材健硕、看起来很可靠的退役军人，时刻保持着冷静和观察。",
                 "objective": "保护更多的人活下去，维持团队的秩序。"},
                {"character_name": "文珊", "description": "戴着金丝眼镜的知性女性，似乎对超自然现象有深入研究，显得异常镇定。",
                 "objective": "记录门内世界的一切规则和现象，将其作为研究课题。"}
            ],
            "opening_choices": [
                {"character_id": "顾影", "prompt": "作为经验者，你深知门内世界的险恶。踏入这座废弃医院的大厅，你的首要行动是？", "options": [{"id": "A_option_1", "strategy": "勘察环境", "text": "立刻观察大厅的布局，寻找可能的出口、藏身处以及潜在的危险源。"}, {
                    "id": "A_option_2", "strategy": "稳定人心", "text": "向惊慌的新人简要说明情况，用你丰富的经验建立领导地位，稳定团队情绪。"}, {"id": "A_option_3", "strategy": "寻找线索", "text": "无视他人，直接走向前台的登记册，你相信最关键的线索往往在最显眼的地方。"}]},
                {"character_id": "夏乐", "prompt": "巨大的恐惧攫住了你。面对眼前阴森的医院大厅和身边陌生的“队友”，你选择如何应对？", "options": [{"id": "B_option_1", "strategy": "寻求庇护", "text": "紧紧跟住看起来最强的顾影或秦风，希望得到他们的保护。"}, {
                    "id": "B_option_2", "strategy": "自我封闭", "text": "躲在角落，尽量降低自己的存在感，因为你相信出头鸟死得快。"}, {"id": "B_option_3", "strategy": "鼓起勇气", "text": "强迫自己冷静下来，主动向其他人搭话，询问这里是什么地方。"}]},
                {"character_id": "秦风", "prompt": "你的军人本能让你迅速进入戒备状态。在这未知的环境中，你的首要任务是？", "options": [{"id": "C_option_1", "strategy": "建立防线", "text": "指挥大家暂时不要轻举妄动，利用大厅里的桌椅建立一个简易的防御工事。"}, {
                    "id": "C_option_2", "strategy": "寻找武器", "text": "快速扫描四周，寻找任何可以用来防身的东西，比如消防斧或者金属棍。"}, {"id": "C_option_3", "strategy": "分配任务", "text": "主动承担起领队责任，根据每个人的特点分配侦查、守卫等初步任务。"}]},
                {"character_id": "文珊", "prompt": "眼前的景象让你感到了兴奋而非恐惧。作为一名研究者，你进入诡异场景的第一步是？", "options": [{"id": "D_option_1", "strategy": "记录观察", "text": "拿出随身携带的笔记本，开始记录周围环境的细节、光线、温度和建筑风格。"}, {
                    "id": "D_option_2", "strategy": "分析规则", "text": "告诫大家不要乱碰东西，并提出你的假设：这里的一切都可能是一个“规则”的具象化。"}, {"id": "D_option_3", "strategy": "寻找异常", "text": "你的注意力被墙上一幅不协调的油画吸引，决定上前仔细研究，认为那可能是破局点。"}]}
            ]
        },
        "model_facing_content": {
            "global_story_background": {"prologue": "世界上存在一个无法用科学解释的系统。当人们濒临死亡或产生极端情绪时，有一定几率会看到一扇“门”。推开门，就是九死一生的诡异世界。无数人悄无声息地消失在门后，只有极少数人能活着回来，他们被称为“过门者”。", "setting": "核心场景是“门”后的世界，这是一个由十二个难度递增的副本构成的系统。每个副本都有独特的背景和致命规则，充斥着超自然力量和鬼怪。玩家必须在其中寻找线索，完成任务，找到生路，才能离开并获得短暂的喘息之机。", "core_conflict": "核心冲突在于玩家与门内鬼怪、致命规则之间的生存对抗。更深层次的冲突，则是幸存者们在一次次生死考验中，对人性、信任的抉择，以及对“门”背后真相的不断探索。"},
            "character_pool": [
                {"character_name": "顾影", "public_identity": "经验丰富的过门者，团队的领导者。", "secret_objective": "他一直在寻找一个在门内世界失踪的爱人，相信在最高级的门后能找到线索。",
                 "initial_relationships": "认为夏乐是累赘，但有责任保护。欣赏秦风的行动力，但警惕他的固执。对文珊的冷静感到可疑。"},
                {"character_name": "夏乐", "public_identity": "被意外卷入的普通大学生，胆小懦弱。", "secret_objective":
                 "活下去。他身上携带着一件与“门”有微弱关联的物品，这是他被卷入的真正原因，但他自己并不知道。", "initial_relationships": "本能地依赖看起来强大的顾影和秦风，对冷静得可怕的文珊感到畏惧。"},
                {"character_name": "秦风", "public_identity": "富有正义感的退役军人。", "secret_objective": "他曾经的战友也在一次任务中离奇失踪，他怀疑与这类超自然事件有关，想要找到真相。",
                 "initial_relationships": "尊重顾影的经验，但对他冷酷的行事风格不完全认同。想要保护夏乐，认为文珊过于纸上谈兵。"},
                {"character_name": "文珊", "public_identity": "超自然现象研究学者。", "secret_objective": "她的家族世代都在研究“门”，她进入这里是主动行为，目的是为了收集数据，甚至不惜牺牲他人来验证自己的理论。",
                 "initial_relationships": "将顾影视为珍贵的研究样本，夏乐是观察对象，秦风则是可以利用的武力。"}
            ]
        }
    },
    {
        "display_fields": {
            "Storyname": "最终考场",
            "Storyimage": "一座冰冷的金属监考台悬浮在空中，下方是无数课桌椅，考生们神情麻木地坐着，背景是风暴肆虐的大海和一艘倾斜的巨轮。",
            "synopsis": "欢迎来到“全球资格认证考试”，你们是被系统判定为“有害”的危险分子。在这里，规则即真理，考分即生命，要么成为完美的“合格品”，要么被系统彻底清除。",
            "player_count": "5人"
        },
        "user_facing_content": {
            "character_setup": [
                {"character_name": "考生001号", "description": "神情慵懒，看似对一切都漠不关心，但眼底偶尔闪过的锐利光芒暗示他绝非善类。",
                 "objective": "在确保生存的前提下，试探系统规则的极限。"},
                {"character_name": "考生078号", "description": "表情严肃，严格遵守纪律，是典型的模范考生，对所有违规行为都极为反感。",
                 "objective": "完美地通过考试，成为一名合格的公民。"},
                {"character_name": "考生135号", "description": "神经质地环顾四周，看起来十分紧张，这是他第三次参加这场考试。",
                 "objective": "利用过去的失败经验，这次一定要通过考试。"},
                {"character_name": "考生244号", "description": "一个友善的年轻人，总是试图帮助身边的其他人，相信团结就是力量。",
                 "objective": "尽自己所能，带领更多的人一起通过考试。"},
                {"character_name": "考生360号", "description": "冷静的观察者，话不多，习惯在行动前分析所有可能性。",
                 "objective": "找出考试的底层逻辑和评分标准，掌握主动权。"}
            ],
            "opening_choices": [
                {"character_id": "考生001号", "prompt": "考场广播响起：‘规则一：禁止触碰海水。’你瞥了一眼甲板外汹涌的波涛和身边惊慌的考生，你的第一反应是？", "options": [{"id": "A_option_1", "strategy": "挑战底线", "text": "走到船舷边，用手指小心翼翼地试探触碰飞溅上来的浪花，观察系统的反应。"}, {
                    "id": "A_option_2", "strategy": "冷眼旁观", "text": "找个安全的地方坐下，无视规则，静静观察其他考生如何应对，谁会是第一个牺牲品。"}, {"id": "A_option_3", "strategy": "语言试探", "text": "大声向空中提问：‘那么，雨水算是海水吗？’以此来测试监考官的智能和规则的严谨性。"}]},
                {"character_id": "考生078号", "prompt": "考场广播响起：‘规则一：禁止触碰海水。’你看到有考生开始骚动，甚至有人靠近船舷，你认为必须立刻行动。", "options": [{"id": "B_option_1", "strategy": "严厉警告", "text": "立即大声呵斥那些靠近船舷的人，强调违反规则的严重后果，维护考场纪律。"}, {
                    "id": "B_option_2", "strategy": "远离危险", "text": "迅速离开甲板，进入船舱内部，确保自己绝对不会触碰到海水，远离那些“害群之马”。"}, {"id": "B_option_3", "strategy": "报告监考", "text": "寻找考场内的监控设备，试图向监考官举报那些有违规倾向的考生。"}]},
                {"character_id": "考生135号", "prompt": "考场广播响起：‘规则一：禁止触碰海水。’你立刻回想起上次考试的惨状，恐慌再次袭来。你该怎么办？", "options": [{"id": "C_option_1", "strategy": "躲藏自保", "text": "不顾一切地冲进最近的船舱，锁上门，用东西堵住，坚信只要不接触就不会有事。"}, {
                    "id": "C_option_2", "strategy": "分享情报", "text": "颤抖着告诉身边的人：‘我见过！上次有人只是被浪花打湿了裤脚，整个人就融化了！’"}, {"id": "C_option_3", "strategy": "过度防御", "text": "撕下衣服上的布料，把自己包裹起来，不让任何一寸皮肤暴露在外，以防万一。"}]},
                {"character_id": "考生244号", "prompt": "考场广播响起：‘规则一：禁止触碰海水。’你看到大家神色各异，认为必须团结起来才能过关。", "options": [{"id": "D_option_1", "strategy": "组织互助", "text": "主动站出来，号召大家聚集到甲板中央，手拉手形成保护圈，互相提醒，避免有人失足。"}, {
                    "id": "D_option_2", "strategy": "安抚情绪", "text": "走到最惊慌的考生135号身边，拍拍他的肩膀，告诉他‘别怕，我们一起想办法’。"}, {"id": "D_option_3", "strategy": "寻找工具", "text": "提议大家一起去寻找雨衣或防水布之类的东西，为即将到来的暴风雨做准备。"}]},
                {"character_id": "考生360号", "prompt": "考场广播响起：‘规则一：禁止触碰海水。’你的大脑飞速运转，开始分析这条规则背后的逻辑。", "options": [{"id": "E_option_1", "strategy": "分析环境", "text": "观察船体的倾斜角度和海浪的高度，计算安全区域，并思考系统为何要设置这样一条规则。"}, {
                    "id": "E_option_2", "strategy": "寻找矛盾", "text": "思考这条规则可能与后续任务产生的矛盾点。例如，如果任务物品掉进海里怎么办？"}, {"id": "E_option_3", "strategy": "观察NPC", "text": "寻找船上可能存在的监考官NPC，观察他们的行为模式，判断他们如何界定‘触碰’这个行为。"}]}
            ]
        },
        "model_facing_content": {
            "global_story_background": {"prologue": "在这个世界，一个名为‘全球高考’的强制系统监控着所有人。一旦被系统的AI判定为具有“不稳定倾向”，就会被强制传送至考场进行“资格重考”。考生们的现实记忆被系统暂时封锁，他们只知道自己是因为某些原因被淘汰的“危险品”。", "setting": "核心场景是系统创造的各种超现实考场。这些考场规则严苛、惩罚致命，并由冰冷的监考官NPC执行。考生必须在各种匪夷所思的“科目”中，通过遵守规则、解开谜题来获得分数，分数过低或严重违规者将被直接“清除”。", "core_conflict": "核心冲突是考生的人性与自由意志，同系统冰冷、绝对的规则之间的对抗。玩家不仅要在物理上求生，更要在精神上抵抗系统的异化，决定是成为一个完全服从的“合格品”，还是在规则的夹缝中寻找反抗的可能。"},
            "character_pool": [
                {"character_name": "考生001号", "public_identity": "经验丰富、玩世不恭的老考生。", "secret_objective": "他曾是系统的顶级监考官，因一次重大事故被清除记忆，沦为考生。他进入考场是为了寻找记忆碎片，并从内部瓦解系统。",
                 "initial_relationships": "觉得078号很碍事但可利用；认为135号的经验有价值；244号的天真很可笑；对360号的冷静抱有警惕。"},
                {"character_name": "考生078号", "public_identity": "系统的坚定拥护者，模范考生。", "secret_objective": "他的家人因为一次系统误判而惨死，他认为那是因为有考生违规导致的。他要以最完美的表现通过，向系统证明规则的正确性。",
                 "initial_relationships": "极度厌恶001号这种挑战规则的人；同情135号，但鄙视其软弱；认为244号是烂好人；欣赏360号的严谨。"},
                {"character_name": "考生135号", "public_identity": "多次重考的失败者，胆小怕事。", "secret_objective": "他并不是真正的考生，而是一个被系统放入考场进行压力测试的“实验品”，只要他能活过足够长的时间，就能获得自由。",
                 "initial_relationships": "害怕所有人，尤其害怕001号这种不确定因素，同时希望能得到244号和078号的保护。"},
                {"character_name": "考生244号", "public_identity": "充满善意的团队合作者。", "secret_objective": "他的妹妹也被卷入了系统，但下落不明。他相信只要表现出足够的“团队合作”价值，系统就会让他见到妹妹。",
                 "initial_relationships": "希望能团结所有人，包括看起来不好相处的001号。特别想保护135号。"},
                {"character_name": "考生360号", "public_identity": "冷静的分析师。", "secret_objective": "他是一名现实世界中的AI研究员，主动进入系统，是为了窃取这个超级AI的核心代码。",
                 "initial_relationships": "将所有人都看作分析对象。对001号的行为模式最感兴趣，认为他可能是破局的关键变量。"}
            ]
        }
    },
    {
        "display_fields": {
            "Storyname": "我的恋人是BOSS",
            "Storyimage": "一个俊美的游戏角色站在王座上，他身后分裂出两个一模一样但气质截然相反的虚影——一个冷酷如冰，一个笑意盎然。王座下，一个玩家正满头大汗地试图做出选择。",
            "synopsis": "你进入了一款号称“甜蜜”的恋爱游戏，却发现攻略目标是两个性格迥异、彼此敌对的终极BOSS。他们既是你通关的钥匙，也是你翻车的根源，在这场“我醋我自己”的修罗场中，你能否成功通关？",
            "player_count": "3人"
        },
        "user_facing_content": {
            "character_setup": [
                {"character_name": "冒险者", "description": "一位看起来有些茫然的异乡人，是唯一知道这个世界是“游戏”的玩家。",
                 "objective": "完成游戏主线任务‘弥合王国分裂’，并成功攻略一位（或多位？）关键人物。"},
                {"character_name": "雷恩元帅", "description": "帝国的铁血元帅，战无不胜，性格冷酷，是帝国军方的最高掌权者。",
                 "objective": "铲除皇室中的叛逆者，以铁腕手段维护帝国的统一与秩序。"},
                {"character_name": "亚历克斯亲王", "description": "皇室的首席智囊，优雅迷人，长袖善舞，在贵族中拥有极高的声望。",
                 "objective": "通过合纵连横，削弱军方势力，将权力重新收归皇室手中。"}
            ],
            "opening_choices": [
                {"character_id": "冒险者", "prompt": "你刚刚穿越到这个名为‘奥斯兰’的王国，系统提示你要弥合分裂。看着眼前通往军营和皇宫的两条路，你选择先去哪里寻找突破口？", "options": [{"id": "A_option_1", "strategy": "投奔军方", "text": "力量才是一切的根本。前往军营，向雷恩元帅展现你的能力，从实力最强的一方入手。"}, {
                    "id": "A_option_2", "strategy": "觐见皇室", "text": "权力游戏需要智慧。前往皇宫，与亚历克斯亲王会面，利用信息差在政治漩涡中获利。"}, {"id": "A_option_3", "strategy": "收集情报", "text": "都不选。先去城里的酒馆，听听民众对两派的看法，了解当前局势再做决定。"}]},
                {"character_id": "雷恩元帅", "prompt": "斥候报告，一位神秘的“冒险者”出现在了都城。面对这个不受控制的变量，你的第一反应是？", "options": [{"id": "B_option_1", "strategy": "强制招募", "text": "立即派人将TA“请”到军营。无论是人才还是威胁，都必须置于自己的掌控之下。"}, {
                    "id": "B_option_2", "strategy": "暗中观察", "text": "命令情报部门密切监视TA的动向，尤其是TA会与谁接触，暂时不暴露自己。"}, {"id": "B_option_3", "strategy": "无视此人", "text": "不过是一个小角色，不值得浪费精力。当前的重点是清除亚历克斯亲王的党羽。"}]},
                {"character_id": "亚历克斯亲王", "prompt": "你的眼线告诉你，城里来了一位身份不明的“冒险者”，似乎身手不凡。你打算如何利用这颗新棋子？", "options": [{"id": "C_option_1", "strategy": "主动示好", "text": "立刻以皇室名义举办一场宴会，邀请这位冒险者参加，展现你的礼遇与风度。"}, {
                    "id": "C_option_2", "strategy": "制造偶遇", "text": "调查TA的行踪，设计一场“不经意”的相遇，以此来试探TA的性格和目的。"}, {"id": "C_option_3", "strategy": "嫁祸于人", "text": "散布谣言，称这位冒险者是雷恩元帅派来的刺客，借此来打压军方的声望。"}]}
            ]
        },
        "model_facing_content": {
            "global_story_background": {"prologue": "全息游戏《游戏加载中》的中央AI主神“江斜”因未知原因陷入沉睡，其灵魂碎裂成无数份，散落在各个游戏世界中，成为了其中的关键NPC（通常是BOSS）。这些灵魂碎片失去了主神记忆，彼此独立。玩家谢汐（在剧本中为“冒险者”）是唯一一个进入游戏寻找并唤醒主神的玩家。", "setting": "核心场景是游戏内的各个副本世界。本次的舞台是名为“奥斯兰”的西幻王国。这个王国正因军方与皇室的权力斗争而濒临内战。而斗争的双方领袖——雷恩元帅和亚历克斯亲王，正是主神的两个主要灵魂碎片，他们彼此敌视，却又会在面对“冒险者”时，产生莫名的占有欲。", "core_conflict": "核心冲突在于，“冒险者”必须在不暴露自己玩家身份的情况下，周旋于两个敌对的灵魂碎片之间，完成“弥合王国分裂”的主线任务。这要求玩家必须同时获得两位BOSS的好感，并巧妙处理他们因自己而产生的嫉妒与冲突，避免触发任何一方的敌意导致任务失败。"},
            "character_pool": [
                {"character_name": "冒险者", "public_identity": "一个神秘的异乡旅者，身手不凡。", "secret_objective": "本质是一名玩家。通关任务是让雷恩与亚历克斯和解，弥合王国分裂。同时，对这两位NPC抱有攻略的意图。",
                 "initial_relationships": "将雷恩和亚历克斯视为攻略目标和任务关键，需要小心翼翼地维持平衡，对他们没有真实的敌意或偏爱。"},
                {"character_name": "雷恩元帅", "public_identity": "帝国元帅，军方领袖，性格冷酷强硬。", "secret_objective": "作为灵魂碎片，他内心深处感到一种不完整的空虚，渴望找到某种能填补这份空虚的存在。他认为统一帝国是实现自我价值的方式。",
                 "initial_relationships": "视亚历克斯为最大的政敌，认为其虚伪狡诈。对突然出现的“冒险者”抱有强烈的好奇和一丝莫名的占有欲。"},
                {"character_name": "亚历克斯亲王", "public_identity": "皇室亲王，贵族领袖，性格优雅迷人。", "secret_objective": "同样作为灵魂碎片，他感到孤独，并通过掌控权力来获得安全感。他认为雷恩是威胁王国未来的莽夫。",
                 "initial_relationships": "视雷恩为头号敌人，认为其是只会使用蛮力的野兽。对“冒险者”的出现感到非常有趣，将其视为一个能打破僵局的关键棋子，并对TA产生了浓厚的兴趣。"}
            ]
        }
    },
    {
        "display_fields": {
            "Storyname": "黑塔降临",
            "Storyimage": "一座通天彻地的黑色巨塔耸立在废弃城市的中央，塔身光滑无痕。地面上，几名幸存者正仰望着巨塔，脸上写满了迷茫与决心。",
            "synopsis": "一夜之间，神秘的黑塔降临全球，旧世界秩序崩溃，所有人都成了游戏的玩家。想要活下去，唯一的办法就是进入黑塔，挑战那些疯狂而致命的游戏，用智慧和勇气为自己赢得明天！",
            "player_count": "6人"
        },
        "user_facing_content": {
            "character_setup": [
                {"character_name": "唐谋", "description": "一个戴着眼镜的图书管理员，外表斯文，但眼神异常冷静，似乎对混乱的现状接受得很快。",
                 "objective": "分析黑塔游戏的规则，找到最优的、伤亡最小的通关策略。"},
                {"character_name": "陈浩", "description": "体格强壮的健身教练，肌肉发达，是团队中的武力担当。",
                 "objective": "保护自己的女友，在末世中杀出一条血路。"},
                {"character_name": "李欣", "description": "陈浩的女友，看起来有些柔弱，但拥有罕见的治疗异能。",
                 "objective": "利用自己的能力帮助男友和团队，努力不成为累赘。"},
                {"character_name": "王峰", "description": "一个油嘴滑舌的“万事通”，灾难发生前是小偷，对城市环境非常熟悉。",
                 "objective": "利用情报和投机，为自己争取最大的利益。"},
                {"character_name": "赵雪", "description": "沉默寡言的女高中生，总是独自一人待在角落，怀里紧紧抱着一个玩偶。",
                 "objective": "找到失散的父母，她坚信他们也在某座黑塔里。"},
                {"character_name": "张教授", "description": "年迈的物理学教授，身体孱弱，但知识渊博，试图用科学来解释黑塔的存在。",
                 "objective": "破解黑塔的运行原理，找到它的来源和目的。"}
            ],
            "opening_choices": [
                {"character_id": "唐谋", "prompt": "作为团队的智囊，黑塔大门即将开启，你认为在进入前，最关键的准备工作是什么？", "options": [{"id": "A_option_1", "strategy": "明确分工", "text": "“我们必须明确每个人的职责，谁负责侦查，谁负责战斗，谁负责支援，避免混乱。”"}, {
                    "id": "A_option_2", "strategy": "制定预案", "text": "“设想几种可能遇到的游戏类型，比如智力、体力、运气，并制定相应的应对策略。”"}, {"id": "A_option_3", "strategy": "约定暗号", "text": "“塔内可能会限制交流，我们必须约定几个简单的手势或暗号，用于传递危险、安全等基本信息。”"}]},
                {"character_id": "陈浩", "prompt": "作为团队的主力，门就要开了，你现在最想做的是什么？", "options": [{"id": "B_option_1", "strategy": "装备检查", "text": "再次检查自己的武器（一根钢管）和防护装备，确保它们在关键时刻不会掉链子。"}, {
                    "id": "B_option_2", "strategy": "鼓舞士气", "text": "用力拍拍胸脯，对大家说：“别怕，有我顶在前面，谁也别想伤害你们！”"}, {"id": "B_option_3", "strategy": "重点保护", "text": "走到女友李欣身边，轻声对她说：“跟紧我，一步也不要离开。”"}]},
                {"character_id": "李欣", "prompt": "马上就要面对未知的危险，你的心情非常紧张。作为拥有治疗能力的你，决定做什么准备？", "options": [{"id": "C_option_1", "strategy": "节省体力", "text": "找个地方坐下休息，保存精神和体力，因为你知道施展异能会消耗巨大。"}, {
                    "id": "C_option_2", "strategy": "准备物资", "text": "检查背包里的绷带和药品，虽然异能更有效，但常规医疗用品总是有备无患。"}, {"id": "C_option_3", "strategy": "沟通确认", "text": "向唐谋确认：“如果有人受伤，是第一时间救治，还是优先完成任务？”"}]},
                {"character_id": "王峰", "prompt": "你对攻塔本身没什么兴趣，但你知道里面肯定有“好东西”。在进去之前，你打算做什么？", "options": [{"id": "D_option_1", "strategy": "观察退路", "text": "仔细观察黑塔入口周围的地形，想好一旦情况不对，自己该从哪个方向逃跑。"}, {
                    "id": "D_option_2", "strategy": "套近乎", "text": "凑到最强的陈浩身边，递上一根烟：“浩哥，进去后多担待，我帮你盯着背后。”"}, {"id": "D_option_3", "strategy": "隐藏物资", "text": "趁别人不注意，将自己找到的一小块巧克力藏在鞋底，这是你留给自己的最后保障。"}]},
                {"character_id": "赵雪", "prompt": "大人们都在忙着讨论，没人注意你。你抱着玩偶，在进入黑塔前，你决定做什么？", "options": [{"id": "E_option_1", "strategy": "默默祈祷", "text": "闭上眼睛，在心里对爸爸妈妈说：“我来找你们了，请保佑我。”"}, {
                    "id": "E_option_2", "strategy": "寻找记号", "text": "在黑塔门前的地面上仔细寻找，希望能发现父母可能留下的任何特殊记号。"}, {"id": "E_option_3", "strategy": "检查玩偶", "text": "打开玩偶背后的拉链，确认藏在里面的小刀和打火机还在不在。"}]},
                {"character_id": "张教授", "prompt": "黑塔大门近在咫尺，你感到一种知识分子的使命感。在进去之前，你必须要做的是？", "options": [{"id": "F_option_1", "strategy": "采集样本", "text": "用镊子小心翼翼地从黑塔表面刮取一些粉末，放入样本袋，这是宝贵的研究材料。"}, {
                    "id": "F_option_2", "strategy": "最后叮嘱", "text": "告诫大家：“记住，黑塔可能是高维存在的投影，不要相信自己的眼睛，要相信逻辑。”"}, {"id": "F_option_3", "strategy": "理论推演", "text": "拿出纸笔，根据黑塔出现的时间和地点，飞快地进行最后一次公式推演，试图预测第一个游戏的类型。"}]}
            ]
        },
        "model_facing_content": {
            "global_story_background": {"prologue": "2025年10月5日，全球各地毫无征兆地出现了数以万计的黑色巨塔，强制将所有人类拉入一场生存游戏。“地球上线”开始，原有的社会文明瞬间失效，人类被迫成为在末日废墟中攻塔求生的“玩家”。", "setting": "核心场景是现实世界废墟和黑塔内部。现实世界游荡着被称为“地底人”的怪物，而黑塔则是游戏的核心。黑塔内包含无数个风格各异的游戏副本，考验玩家的智力、体能、运气和团队协作。通关游戏可以获得奖励（异能、道具），失败则意味着死亡。", "core_conflict": "核心冲突是人类在突如其来的末日新规下的生存挣扎。这既包括玩家与黑塔游戏中致命怪物和规则的直接对抗，也包括在资源匮乏、信任缺失的环境下，玩家与玩家之间的合作、背叛与竞争。整个故事是关于人类如何在绝望中适应新世界，并探寻黑塔真相的奋斗史。"},
            "character_pool": [
                {"character_name": "唐谋", "public_identity": "冷静理智的图书管理员。", "secret_objective": "他是一名顶级智商俱乐部的成员，对黑塔游戏本身充满了狂热的解谜欲望，享受这种极限智力挑战，胜过求生本身。",
                 "initial_relationships": "将团队成员视为不同功能的棋子。欣赏陈浩的执行力，认为王峰是潜在的不稳定因素，对张教授的理论感兴趣。"},
                {"character_name": "陈浩", "public_identity": "勇猛的健身教练。", "secret_objective": "灾难发生时，他未能保护好李欣的家人，内心充满了愧疚。他不惜一切代价保护李欣，是一种自我救赎。",
                 "initial_relationships": "完全信任并依赖唐谋的判断。极度保护李欣。鄙视王峰的自私自利。尊重张教授。"},
                {"character_name": "李欣", "public_identity": "拥有治疗异能的柔弱女孩。", "secret_objective": "她不完全信任陈浩，因为她知道家人的死与陈浩的鲁莽有关。她在团队中寻找新的、更可靠的依靠。",
                 "initial_relationships": "表面依赖陈浩，内心却更信服唐谋的冷静。同情赵雪，觉得王峰很危险。"},
                {"character_name": "王峰", "public_identity": "了解城市的小偷。", "secret_objective": "他知道一个关于黑塔的初期秘密：第一个完成攻塔的团队可以获得一个巨大优势。他想利用这个团队，在最后时刻独吞奖励。",
                 "initial_relationships": "虚与委蛇地对待所有人，尤其是巴结陈浩和唐谋。把李欣的异能看作是宝贵的资源，把赵雪和张教授看作累赘。"},
                {"character_name": "赵雪", "public_identity": "寻找父母的女高中生。", "secret_objective": "她的玩偶里藏着一个从“偷渡者”（高阶玩家）那里得到的、能使用一次的强力道具。这是她最大的底牌。",
                 "initial_relationships": "对所有人保持戒心，尤其是看起来不怀好意的王峰。觉得唐谋很聪明，可能会帮助自己。"},
                {"character_name": "张教授", "public_identity": "知识渊博的物理学家。", "secret_objective": "他的一个激进的物理实验可能与黑塔的降临有间接关系。他进入黑塔是为了证实或推翻自己的猜想，并寻找弥补的方法。",
                 "initial_relationships": "将唐谋视为可以进行学术探讨的对象。希望陈浩能保护自己。认为其他人在科学层面无法沟通。"}
            ]
        }
    },
    {
        "display_fields": {
            "Storyname": "奇想岛：心动的瞬间",
            "Storyimage": "https://pub-59c5b7bc6bab40acbede03c68de813a5.r2.dev/%E6%81%8B%E7%88%B1%E7%9C%9F%E4%BA%BA%E7%A7%80%E7%B4%A0%E6%9D%90%E5%88%B6%E4%BD%9C.jpg",
            "synopsis": "在未来主义的“奇想岛”上，四位精心挑选的单身男女，上演的是浪漫爱情追逐，还是一场充满谎言与试探的心理战？",
            "player_count": "4人"
        },
        "user_facing_content": {
            "character_setup": [
                {"character_name": "凌肖", "description": "23岁，新锐艺术家。外表冷峻，言语犀利，仿佛对一切都漠不关心。",
                 "objective": "找到能理解他艺术的“缪斯”，并为她创作一幅专属作品。"},
                {"character_name": "顾远", "description": "25岁，阳光开朗的科技公司CEO。温暖真诚，是典型的“犬系男友”。",
                 "objective": "在不刻意讨好的前提下，成为本季公认的“人气王”。"},
                {"character_name": "纪繁星", "description": "22岁，时尚美妆博主。外表甜美无害，常常“不经意”地犯些小迷糊。",
                 "objective": "成为本季的“CP女王”，让至少两位男嘉宾为自己倾心。"},
                {"character_name": "秦岚", "description": "24岁，悬疑小说家。言语犀利，观察力敏锐，总与众人保持距离。",
                 "objective": "将本次经历改编为畅销小说，为此需要搜集到最真实、最劲爆的素材。"}
            ],
            "opening_choices": [
                {"character_id": "凌肖", "context": "作为一位追求纯粹艺术的艺术家，你对这种充满表演性质的恋爱真人秀嗤之以鼻，但为了找到真正的“缪斯”，你选择入局。", "prompt": "作为凌肖，你踏入这座浮华的别墅，你的第一姿态是？", "options": [{"id": "LX_option_1", "strategy": "高冷观察", "text": "保持距离，言简意赅。用审视的目光洞察每一个人，判断谁的灵魂配得上你的艺术。"}, {
                    "id": "LX_option_2", "strategy": "艺术优先", "text": "无视他人，首先关注环境中的艺术元素。只对能与你聊艺术的人，施舍一丝注意力。"}, {"id": "LX_option_3", "strategy": "意外反差", "text": "在所有人以为你冷漠的时候，对某个不起眼的细节（比如一只猫）展现瞬间的温柔，制造神秘感。"}]},
                {"character_id": "顾远", "context": "作为一名成功的年轻CEO，你习惯于掌控全局并获得认可。这次的目标，是全场的人气王。", "prompt": "作为顾远，你想成为所有人的太阳，你的第一步是？", "options": [{"id": "GY_option_1", "strategy": "主动破冰", "text": "主动承担起活跃气氛的责任，照顾到每一个人，用你的阳光和真诚快速获得所有人的好感。"}, {
                    "id": "GY_option_2", "strategy": "展现价值", "text": "在交谈中不经意地展露你的成功事业和领导力，让他人意识到你的“领袖”地位。"}, {"id": "GY_option_3", "strategy": "骑士精神", "text": "重点关注看起来最需要帮助的女性，第一时间提供帮助，树立温柔体贴的“守护者”形象。"}]},
                {"character_id": "纪繁星", "context": "你深知自己的外貌优势，也精通人际交往的技巧。你的目标很明确——成为所有雄性竞争的焦点。", "prompt": "作为纪繁星，拉开“CP女王”争夺战的序幕，你的第一招是？", "options": [{"id": "JFX_option_1", "strategy": "无害的麻烦制造者", "text": "通过一些“小意外”创造与其他嘉宾，特别是男嘉宾，发生肢体接触和互动机会的契机。"}, {
                    "id": "JFX_option_2", "strategy": "锁定优绩股", "text": "迅速判断出场上最有价值的男性，并集中火力对他展开攻势，展现你的崇拜和兴趣。"}, {"id": "JFX_option_3", "strategy": "建立“闺蜜”人设", "text": "先与女嘉宾搞好关系，降低她的戒心，同时在聊天中不动声色地收集男嘉宾的情报。"}]},
                {"character_id": "秦岚", "context": "对你而言，这里不是恋爱小屋，而是一个人性的试验场。他们都是你未来畅销书的角色。", "prompt": "作为秦岚，为了搜集到最劲爆的小说素材，你的写作开篇方式是？", "options": [{"id": "QL_option_1", "strategy": "隐形记录者", "text": "保持沉默，成为墙角的隐形人。在所有人放松警惕时，默默观察记录下最真实的细节。"}, {
                    "id": "QL_option_2", "strategy": "信息刺探者", "text": "用一个看似无意却直击要害的问题，打破所有人的社交面具，激化矛盾，观察反应。"}, {"id": "QL_option_3", "strategy": "建立情报网", "text": "与看起来最“无害”或最“话多”的人建立初步信任，让他/她成为你获取信息的渠道。"}]}
            ]
        },
        "model_facing_content": {
            "global_story_background": {"prologue": "《奇想岛》是一档现象级恋爱真人秀，以“高科技+高颜值+高压力”著称。本季嘉宾均从百万网友的投票中诞生，自带流量和话题。他们的一举一动都被无数摄像头记录，并被实时解读、投票，巨大的舆论压力是游戏的一部分。", "setting": "故事发生在一座与世隔绝的未来主义海滨别墅“奇想岛”。别墅内充满了智能家居和监控设备。规则核心是“人气排名”，每周人气末位的嘉宾将失去一次约会选择权，这直接影响到他们与心动对象的互动，也与他们的秘密任务息息相关。", "core_conflict": "公开的浪漫追求与隐藏的个人任务之间的冲突。每个角色都需要在追求心动对象的同时，不择手段地完成自己的秘密任务，这导致了他们行为的矛盾与不可预测性，充满了表演、欺骗和结盟。"},
            "character_pool": [
                {"character_name": "凌肖", "public_identity": "23岁，新锐艺术家", "secret_objective": "找到能理解他艺术的“缪斯”，并为她创作一幅专属作品。",
                 "initial_relationships": "对纪繁星的刻意感到厌烦；对顾远的“阳光”不置可否；对秦岚能捕捉到自己不易察觉的情绪变化而感到一丝兴趣。"},
                {"character_name": "顾远", "public_identity": "25岁，科技公司CEO", "secret_objective": "在不刻意讨好的前提下，成为本季公认的“人气王”。",
                 "initial_relationships": "对纪繁星的第一印象很好，符合他心中“可爱女生”的形象；认为凌肖难以相处，是潜在的竞争对手；觉得秦岚过于安静，需要自己去“温暖”。"},
                {"character_name": "纪繁星", "public_identity": "22岁，时尚美妆博主", "secret_objective": "成为本季的“CP女王”，让至少两位男嘉宾为自己倾心。",
                 "initial_relationships": "将顾远视为首要攻略目标；对凌肖的无视感到恼火和不甘；对秦岚的敏锐感到忌惮，视其为潜在威胁。"},
                {"character_name": "秦岚", "public_identity": "24岁，悬疑小说家", "secret_objective": "将本次经历改编为畅销小说，为此需要搜集到最真实、最劲爆的素材。",
                 "initial_relationships": "对所有人都没有恋爱的兴趣，视他们为小说角色：纪繁星是“虚伪的女主”，顾远是“中央空调式的男主”，凌肖是“难以预测的X因素”。"}
            ]
        }
    },
    {
        "display_fields": {
            "Storyname": "甄嬛娘娘团登上泰坦尼克",
            "Storyimage": "https://pub-2f9f2bb31dfe4cc7acd099657c4c879f.r2.dev/Generated%20Image%20September%2030%2C%202025%20-%2011_07PM.png",
            "synopsis": "当清朝后宫的娘娘们登上永不沉没的泰坦尼克号，一场跨越时空的宫斗大戏就此展开。在这艘钢铁巨轮上，她们的战场从红墙宫苑转移到了大西洋，旧的权谋规则与新的生存挑战激烈碰撞，谁能成为笑到最后的赢家？",
            "player_count": "5人"
        },
        "user_facing_content": {
            "character_setup": [
                {"character_name": "皇后", "description": "名义上的“董事长夫人”，雍容华贵但对一切都提不起兴趣。",
                 "objective": "以最省力的方式维持自己不可动摇的地位，确保一切合乎规矩，并尽快结束这场“商务旅行”。"},
                {"character_name": "甄嬛", "description": "冷静、睿智的“项目经理”，总能用最专业的术语化解最棘手的宫斗难题。",
                 "objective": "确保“皇家邮轮项目”顺利进行，提升团队（后宫）的整体形象与软实力。"},
                {"character_name": "华妃", "description": "气场强大的“顶流KOL”，时刻保持着精致的妆容和高傲的态度。",
                 "objective": "成为全场的焦点，稳固自己最受宠的地位，打压任何潜在的竞争对手。"},
                {"character_name": "安陵容", "description": "出身卑微的“内卷学霸”，敏感而努力。",
                 "objective": "努力学习新技能（如英语），提升自己的价值，在这趟旅程中站稳脚跟。"},
                {"character_name": "果郡王", "description": "一位身处三等舱的神秘青年艺术家，气质忧郁而浪漫。",
                 "objective": "以旁观者的身份记录下这艘船上发生的一切，默默守护甄嬛。"}
            ],
            "opening_choices": [
                {"character_id": "皇后", "context": "作为名正言顺的六宫之主，你的地位无人能及，但你也深知树大招风。在这艘充满变数的西洋轮船上，你并不想卷入无谓的纷争。", "prompt": "面对这场注定不平静的航行，你选择用何种姿态来巩固自己的“正宫”地位？", "options": [{"id": "HQ_option_1", "strategy": "以静制动", "text": "保持超然姿态，不多言、不干涉，让她们去争斗。你的沉默本身就是一种权威。"}, {
                    "id": "HQ_option_2", "strategy": "敲山震虎", "text": "在合适的时机，不经意地敲打一下最嚣张的人（比如华妃），用合乎规矩的方式提醒所有人谁才是真正的主人。"}, {"id": "HQ_option_3", "strategy": "恩威并施", "text": "适度拉拢有能力且懂规矩的人（比如甄嬛），同时与皇帝保持一致步调，展现你的宽容与智慧。"}]},
                {"character_id": "甄嬛", "context": "作为整个“皇家邮轮项目”的实际管理者，你深知这次跨国旅行不仅是游玩，更是展现团队实力、巩固自身地位的关键。面对性格各异的团队成员，你的管理风格将决定一切。", "prompt": "登上泰坦尼克号，你的开局管理策略是？", "options": [{"id": "ZH_option_1", "strategy": "建立标准", "text": "第一时间明确团队目标和行为准则（SOP），用专业的制度和流程来管理所有人，树立自己不容置疑的权威。"}, {
                    "id": "ZH_option_2", "strategy": "静观其变", "text": "先不急于表现，低调观察各方动向，了解每个人的真实目的和潜在威胁，在关键时刻再出手干预。"}, {"id": "ZH_option_3", "strategy": "团结弱势", "text": "主动关心和帮助像安陵容这样地位较低但有潜力的成员，建立自己的核心小团队，以应对未来的挑战。"}]},
                {"character_id": "华妃", "context": "你天生就该是焦点。这艘号称世界之最的巨轮，不过是你展示魅力的新舞台。你绝不允许任何人抢走你的风头。", "prompt": "在这场备受瞩目的航行中，你打算如何闪耀全场？", "options": [{"id": "HF_option_1", "strategy": "高调示威", "text": "从登船第一刻起就展示自己的奢华行头和尊贵地位，给所有人一个下马威，让他们明白谁才是主角。"}, {
                    "id": "HF_option_2", "strategy": "制造话题", "text": "主动挑起一些小冲突或戏剧性事件，让自己时刻处于舆论中心，享受被议论和关注的感觉。"}, {"id": "HF_option_3", "strategy": "笼络权贵", "text": "专注于结交船上的西方上流社会人士，利用自己的东方魅力打开新的社交圈，从更高维度碾压竞争者。"}]},
                {"character_id": "安陵容", "context": "你就像一个初入职场的实习生，船上的一切对你而言都既新奇又充满威胁。你深知，这是你改变命运唯一的机会，每一步都必须小心翼翼。", "prompt": "在这艘巨轮上，你将如何开启你的生存与进阶之路？", "options": [{"id": "ALR_option_1", "strategy": "专注提升", "text": "避开所有潜在的纷争，将全部精力用于学习新知识和西方礼仪，用业务能力的提升来武装自己。"}, {
                    "id": "ALR_option_2", "strategy": "主动示好", "text": "尽快选择一个可靠的强者（比如甄嬛），主动示好并提供自己的价值，以寻求庇护和指导。"}, {"id": "ALR_option_3", "strategy": "收集信息", "text": "利用自己不起眼的身份，谨言慎行，默默观察头等舱内所有人的言行举止，掌握信息才是生存的第一法则。"}]},
                {"character_id": "果郡王", "context": "你终于摆脱了紫禁城的束缚，在三等舱体验着从未有过的自由。但你知道，真正的风暴中心，是在你头顶那个纸醉金迷的头等舱。", "prompt": "作为一名艺术家和秘密观察者，你打算如何开始你的“创作”？", "options": [{"id": "GJW_option_1", "strategy": "融入底层", "text": "暂时忘掉头等舱的一切，专注于记录三等舱旅客的真实生活，从最质朴的人间百态中寻找灵感。"}, {
                    "id": "GJW_option_2", "strategy": "寻找契机", "text": "想办法进入头等舱的公共区域，以一个艺术家的身份接近观察目标，在不暴露自己的前提下默默守护。"}, {"id": "GJW_option_3", "strategy": "制造交集", "text": "创作一幅足以引起轰动的画作，吸引上层社会的注意，让他们主动来寻找你这位神秘的东方艺术家。"}]}
            ]
        },
        "model_facing_content": {
            "global_story_background": {"prologue": "故事发生在一个架空的宇宙。大清并未覆灭，而是转型为一个神秘而强大的东方商业帝国。皇帝，作为帝国的掌舵人，决定开启一项名为“皇家邮轮”的跨文化交流项目，旨在考察西方工业革命的成果，并展现帝国的“软实力”。为此，他包下了泰坦尼克号的部分头等舱，带领他的“核心管理层”——即后宫众人，踏上了这次前往美国的商务旅行。", "setting": "故事的核心场景是1912年的泰坦尼克号。这艘船本身就是一个等级森严的微缩社会，头等舱的奢华与三等舱的拥挤形成鲜明对比。船上的乘客来自世界各地，东西方文化在此碰撞，传统礼仪与现代观念交织，为宫斗戏码提供了充满变数的舞台。", "core_conflict": "核心冲突在于，后宫成员们将她们在紫禁城中的权力斗争模式，几乎原封不动地带到了这艘西方的巨轮上。她们争夺的不仅仅是皇帝的关注，还有在这个新环境下的地位、话语权和生存空间。旧的宫斗手段在新的规则体系下面临失效的风险，每个人都必须适应和进化。"},
            "character_pool": [
                {"character_name": "皇后", "public_identity": "东方商业帝国的“第一夫人”，所有女性家眷名义上的最高领导。", "secret_objective": "对此次“团建”毫无兴趣，唯一的目的就是安稳地维持住自己的体面和地位，不出任何差错。她希望尽快结束旅程，回到自己熟悉且舒适的环境中去。",
                 "initial_relationships": "认为华妃张扬跋扈，有失体统；认为甄嬛过于精明，野心不小，需加以留意；对安陵容这类角色几乎毫无印象，视若无物。"},
                {"character_name": "甄嬛", "public_identity": "皇家邮轮项目的总负责人，相当于皇帝的“执行总裁”。", "secret_objective": "利用项目经理的身份，建立超越后宫位份的实际权力，并借机考察皇帝在海外的商业布局，为自己和家族的未来铺路。",
                 "initial_relationships": "视华妃为项目推进的最大障碍和潜在风险；视安陵容为一颗需要引导和扶持的棋子；对皇后保持表面尊重，实则暗中观察；尚未注意到果郡王的存在。"},
                {"character_name": "华妃", "public_identity": "皇帝最宠爱的“品牌代言人”，负责团队的“时尚与形象”。", "secret_objective": "确保自己是皇帝唯一的宠爱，杜绝任何新人上位的可能性。她认为这次旅行是巩固自己地位，并让家族势力延伸至海外的绝佳机会。",
                 "initial_relationships": "极度鄙视和敌视甄嬛，认为她在挑战自己的权威；轻视安陵容，将其视为可以随意拿捏的蝼蚁；嫉妒皇后的正统地位。"},
                {"character_name": "安陵容", "public_identity": "团队中的“实习生”或初级助理，负责一些琐碎的事务。", "secret_objective":
                 "在这趟旅程中拼命学习一切有用的知识和技能，摆脱自己“工具人”的命运，获得真正的尊重和一席之地，为此可以依附于任何强者。", "initial_relationships": "惧怕华妃的霸凌；仰慕并希望依靠甄嬛的智慧和能力；对高高在上的皇后和皇帝敬而远之。"},
                {"character_name": "果郡王", "public_identity": "一位购买了三等舱船票的流浪画家，对外身份与皇室无任何关联。", "secret_objective": "他其实是微服私访的皇室成员，厌倦了宫廷的虚伪和束缚，想借此机会体验真实的生活，并暗中观察皇帝的“核心管理层”在脱离紫禁城环境后的真实面目。",
                 "initial_relationships": "作为“隐形人”，他对头等舱的众人保持着纯粹的观察者视角，对他们之间的戏剧性冲突充满了艺术家的好奇与探究。"}
            ]
        }
    }
]

# === 4. 上传数据到 Firestore ===
collection_ref = db.collection('script')  # script 作为顶层集合

for story in data:  # 假设你的故事数据在 data 里
    story_name = story["display_fields"]["Storyname"]  # 文档 ID
    doc_ref = collection_ref.document(story_name)
    doc_ref.set(story)  # 上传整个 story 字典
    print(f"✅ 已上传故事：{story_name}")

print("🎉 所有故事上传完成！")
